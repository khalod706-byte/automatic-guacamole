import React, { useState } from 'react';
import { Search, ShoppingBag, Menu, Flame, UtensilsCrossed, Sandwich, IceCream, Zap } from 'lucide-react';

const App = () => {
    const [activeCategory, setActiveCategory] = useState('all');
    const [searchTerm, setSearchTerm] = useState('');

    // Data Structure
    const menuData = [
        {
            id: 'crepe',
            title: 'ูุฑูุจ ุญุงุฏู',
            icon: <UtensilsCrossed size={20} />,
            items: [
                { name: 'ูุฑูุจ ุงุณุชุฑุจุณ', price: 85, desc: '' },
                { name: 'ูุฑูุจ ุณูุจุฑ ูุฑุงูุดู', price: 90, desc: '' },
                { name: 'ูุฑูุจ ุฒูุฌุฑ ุณูุจุฑูู', price: 90, desc: '' },
                { name: 'ูุฑูุจ ุตุฏูุฑ ูุฑุงุดุฉ', price: 105, desc: '' },
                { name: 'ูุฑูุจ ูุณุญุจ', price: 120, desc: '' },
                { name: 'ูุฑูุจ ููุฑุฏู ุจูู', price: 80, desc: '' },
                { name: 'ูุฑูุจ ูุฑุณุจู', price: 50, desc: '' },
                { name: 'ูุฑูุจ ุจุงููู', price: 50, desc: '' },
                { name: 'ูุฑูุจ ููุช ุฏูุฌ', price: 70, desc: '' },
                { name: 'ูุฑูุจ ุจุฑุฌุฑ ูุฑูุด', price: 80, desc: '' },
                { name: 'ูุฑูุจ ููุชู ูุฑูุด', price: 85, desc: '' },
                { name: 'ูุฑูุจ ุณุฌู', price: 80, desc: '' },
                { name: 'ูุฑูุจ ูููุณ ุฌุจู', price: 50, desc: '' },
                { name: 'ูุฑูุจ ุจุทุงุทุณ', price: 35, desc: '' },
            ]
        },
        {
            id: 'mixes',
            title: 'ูููุณุงุช ููููู',
            icon: <Flame size={20} />,
            items: [
                { name: 'ูุฑูุจ ูููุจุธ', price: 95, desc: '1 ููุฑุฏู ุจูู + ุงุณุชุฑุจุณ + ุดุงูุฑูุง' },
                { name: 'ูุฑูุจ ููุชุฉ', price: 200, desc: '1 ุงุณุชุฑุจุณ + ูุทุนุฉ ููุฑุฏู + ุตุฏูุฑ ูุฑุงุดุฉ + ุดูุด + ูุณุญุจ + ุตูุต ุดูุฏุฑ ููุงููููุฒ' },
                { name: 'ูุฑูุจ ููุนุชูู', price: 100, desc: 'ูุณุญุจ + ุงุณุชุฑุจุณ + ูุงููููุฒ ููุช ุตูุต' },
                { name: 'ูููุณ ูุฑุงุฎ', price: 90, desc: 'ุจุงููู + ุงุณุชุฑุจุณ + ุดุงูุฑูุง + ุชุฑูู ูุฏุฎู + ุตูุต ูุงุชุดุจ ูุงููููุฒ' },
                { name: 'ูููุณ ูุญูู', price: 90, desc: 'ุณุฌู + ููุชู + ุจุฑุฌุฑ + ุจูู ูุฏุฎู + ุตูุต ุชูุณุงุณ ููุงููููุฒ' },
                { name: 'ุฌุจุงุฑ', price: 100, desc: 'ุดูุด + ุงุณุชุฑุจุณ + ููุช ุฏูุฌ + ุจุทุงุทุณ' },
                { name: 'ุซุงููุณ', price: 130, desc: 'ุงุณุชุฑุจุณ + ููุฑุฏู + ุดูุด + 1 ุจุทุงุทุณ' },
                { name: 'ูุด ุงููุฏูุน', price: 100, desc: '1 ููุช ุฏูุฌ + ููุชู + ุจุงููู + ุงุณุชุฑุจุณ + ูุด ุฌุจูุฉ' },
                { name: 'ููุงููุจู', price: 100, desc: 'ุดูุด ุชูุฏูุฑู + ุงุณุชุฑุจุณ' },
            ]
        },
        {
            id: 'jumbo',
            title: 'ุจุฑุฌุฑ ุฌุงูุจู',
            icon: <Menu size={20} />,
            items: [
                { name: 'ุจุฑุฌุฑ ูุญู', price: 120, desc: 'ุจุฑุฌุฑ + ุฎุถุงุฑ + ุจูู ูุฏุฎู + ุตูุต ุชูุณุงุณ' },
                { name: 'ุจุฑุฌุฑ ุฑููุฌู', price: 150, desc: 'ุจุฑุฌุฑ + ุญููุงุช ุจุตู + ุตูุงุจุน ููุชุฒุงุฑููุง + ุฎุถุงุฑ + ุตูุต ุชูุณุงุณ' },
                { name: 'ุจุฑุฌุฑ ุฏุงุจู ููุฏ ุดูุช', price: 170, desc: 'ุจุฑุฌุฑ + ุชุดููู + ุชุฑูู ูุฏุฎู + ุตูุงุจุน ููุชุฒุงุฑููุง + ุฎุถุงุฑ + ุชูุณุงุณ + ุดูุฏุฑ' },
            ]
        },
        {
            id: 'sandwich',
            title: 'ุณุงูุฏูุชุดุงุช',
            icon: <Sandwich size={20} />,
            items: [
                { name: 'ุณุงูุฏูุชุด ุจุฑุฌุฑ', price: 40, desc: '' },
                { name: 'ุณุงูุฏูุชุด ููุช ุฏูุฌ', price: 40, desc: '' },
                { name: 'ุณุงูุฏูุชุด ุงุณุชุฑุจุณ', price: 25, desc: '' },
                { name: 'ุณุงูุฏูุชุด ุดูุด', price: 35, desc: '' },
                { name: 'ุณุงูุฏูุชุด ุจุงููู', price: 20, desc: '' },
                { name: 'ุณุงูุฏูุชุด ูุจุฏู', price: 15, desc: '' },
                { name: 'ุณุงูุฏูุชุด ุณุฌู', price: 15, desc: '' },
                { name: 'ุณุงูุฏูุชุด ููุชู', price: 15, desc: '' },
            ]
        },
        {
            id: 'waffle',
            title: 'ูุงูู & ุญูู',
            icon: <IceCream size={20} />,
            items: [
                { name: 'ุณุงูุฏูุชุด ุญูู ุงูุฑูู', price: 35, desc: '' },
                { name: 'ูุงุญุฏ ุญูู', price: 50, desc: 'ุงูุฑูู + ููุชุณ + ุดููููุช + ูุฑุงููู' },
                { name: 'ุณุงูุฏูุชุด ุญูู ููุชุณ', price: 35, desc: '' },
                { name: 'ูุงูู ุดูููุช', price: 30, desc: '' },
                { name: 'ูุงูู ูุงูุช ุดูููุช', price: 35, desc: '' },
                { name: 'ูุงูู ูููุณ ุดูููุช', price: 40, desc: '' },
                { name: 'ูุงูู ุงูุฑูู', price: 50, desc: '' },
                { name: 'ูุงูู ููุฑุงูุง', price: 50, desc: '' },
            ]
        },
        {
            id: 'meals',
            title: 'ูุฌุจุงุช',
            icon: <ShoppingBag size={20} />,
            items: [
                { name: 'ูุฌุจุฉ ุงุณุชุฑุจุณ', price: 100, desc: 'ุงุณุชุฑุจุณ + ุจุทุงุทุณ + ููุฒุฑ + ุตูุต ุดูุฏุฑ' },
                { name: 'ูุฌุจุฉ ุตุฏูุฑ ูุฑุงุดุฉ', price: 120, desc: 'ุตุฏูุฑ ูุฑุงุดุฉ + ุจุทุงุทุณ + ููุฒุฑ + ุตูุต ุดูุฏุฑ' },
                { name: 'ูุฌุจุฉ ูุณุญุจ', price: 125, desc: 'ูุณุญุจ + ุจุทุงุทุณ + ููุฒุฑ + ุตูุต ุดูุฏุฑ' },
            ]
        },
        {
            id: 'addons',
            title: 'ุงุถุงูุงุช',
            icon: <Zap size={20} />,
            items: [
                { name: 'ุจุงูุช ูุงุฑู', price: 15, desc: '' },
                { name: 'ุตูุต ุดูุฏุฑ', price: 15, desc: '' },
                { name: 'ุตูุต ุชูุณุงุณ', price: 15, desc: '' },
            ]
        }
    ];

    const filteredData = menuData.map(category => {
        const filteredItems = category.items.filter(item => 
            item.name.includes(searchTerm) || 
            (item.desc && item.desc.includes(searchTerm))
        );
        return { ...category, items: filteredItems };
    }).filter(category => category.items.length > 0);

    const scrollToSection = (id) => {
        setActiveCategory(id);
        const element = document.getElementById(id);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    };

    return (
        <div className="min-h-screen bg-slate-900 text-slate-100 font-sans pb-20" dir="rtl">
            <style>{`
                @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap');
                body { font-family: 'Cairo', sans-serif; }
                .hide-scrollbar::-webkit-scrollbar { display: none; }
                .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
            `}</style>

            {/* Header */}
            <header className="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-sm border-b border-slate-700 shadow-lg">
                <div className="container mx-auto px-4 py-4">
                    <div className="flex justify-between items-center mb-4">
                        <div>
                            <h1 className="text-3xl font-black text-orange-500 tracking-tighter">LIVIK</h1>
                            <p className="text-xs text-slate-400 font-bold tracking-widest">RESTAURANT</p>
                        </div>
                        <div className="bg-orange-500/10 p-2 rounded-full">
                            <Flame className="text-orange-500 animate-pulse" />
                        </div>
                    </div>

                    {/* Search Bar */}
                    <div className="relative">
                        <Search className="absolute right-3 top-3 text-slate-400" size={18} />
                        <input 
                            type="text"
                            placeholder="ุจุชุฏูุฑ ุนูู ุงููุ (ุจุฑุฌุฑุ ูุฑูุจ...)"
                            className="w-full bg-slate-800 text-white p-3 pr-10 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 border border-slate-700 transition-all placeholder-slate-500 text-sm"
                            value={searchTerm}
                            onChange={(e) => setSearchTerm(e.target.value)}
                        />
                    </div>
                </div>

                {/* Categories Nav */}
                <div className="flex overflow-x-auto hide-scrollbar px-4 pb-3 gap-3">
                    {menuData.map((cat) => (
                        <button
                            key={cat.id}
                            onClick={() => scrollToSection(cat.id)}
                            className={`flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap text-sm font-bold transition-all
                                ${activeCategory === cat.id 
                                    ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/20' 
                                    : 'bg-slate-800 text-slate-300 border border-slate-700'}`}
                        >
                            {cat.icon}
                            {cat.title}
                        </button>
                    ))}
                </div>
            </header>

            {/* Menu Content */}
            <main className="container mx-auto px-4 pt-6 space-y-8">
                {filteredData.length === 0 ? (
                    <div className="text-center text-slate-500 py-20">
                        <Search size={48} className="mx-auto mb-4 opacity-50" />
                        <p>ูููุด ุญุงุฌุฉ ุจุงูุงุณู ุฏู ูุง ุจุทู</p>
                    </div>
                ) : (
                    filteredData.map((category) => (
                        <section key={category.id} id={category.id} className="scroll-mt-40">
                            <div className="flex items-center gap-3 mb-4">
                                <div className="p-2 bg-orange-500/10 rounded-lg text-orange-500">
                                    {category.icon}
                                </div>
                                <h2 className="text-xl font-bold text-white border-b-2 border-orange-500 pb-1">{category.title}</h2>
                            </div>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                {category.items.map((item, index) => (
                                    <div key={index} className="group bg-slate-800 rounded-2xl p-4 border border-slate-700/50 relative overflow-hidden transition-all hover:scale-[1.02] active:scale-[0.98]">
                                        {/* Decorative background element */}
                                        <div className="absolute -right-6 -top-6 w-20 h-20 bg-orange-500/5 rounded-full blur-xl group-hover:bg-orange-500/10 transition-all"></div>
                                        
                                        <div className="flex justify-between items-start gap-4 relative z-10">
                                            <div className="flex-1">
                                                <h3 className="text-lg font-bold text-slate-100 mb-1">{item.name}</h3>
                                                {item.desc && (
                                                    <p className="text-xs text-slate-400 leading-relaxed mb-2">{item.desc}</p>
                                                )}
                                            </div>
                                            <div className="flex flex-col items-end">
                                                <span className="text-orange-400 font-black text-lg">{item.price}</span>
                                                <span className="text-[10px] text-slate-500 font-bold uppercase">ุฌููุฉ</span>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </section>
                    ))
                )}
            </main>

            {/* Footer */}
            <footer className="mt-12 bg-slate-950 py-8 border-t border-slate-800 text-center">
                <h2 className="text-2xl font-black text-slate-700 mb-2">LIVIK</h2>
                <p className="text-slate-500 text-sm mb-4">ุฃููู ุทุนู ูู ุงูุฒูู</p>
                <div className="flex justify-center gap-4 text-slate-600">
                    <span>๐ 010303504032</span>
                    <span>๐ต ุชูู ุงูุงู</span>
                    <span>๐ฝ๏ธ ุตุงูุฉ</span>
                </div>
            </footer>
        </div>
    );
};

export default App;
